@inherits Custom.Hybrid.Razor14
@using ToSic.Razor.Blade;

@{
  // Toolbar with only Edit Function
	var fileMetadataToolbar = Kit.Toolbar.Empty().Edit();
}

<div class="app-filelist mb-4" @Kit.Toolbar.Default(Content)>
  @Html.Partial("../Shared/Header tag.cshtml", new { HeadingType = Content.HeadingType, Title = Content.Title })

  <div class="list-group">
    @foreach (var file in AsList(AsAdam(Content,"Files").Files as object)) {
      <a href="@file.Url" class="list-group-item list-group-item-action ps-2" aria-current="true" @fileMetadataToolbar.For(file.Metadata)>
        @Html.Partial("File.cshtml", new { File = file, Icon = file.Metadata.Icon } )

        <span class="description-wrapper">
          @Html.Raw(file.Metadata.Description)
        </span>
      </a>
    }

    @foreach(var folder in AsList(AsAdam(Content, "Files").Folders as object)){
      @Html.Partial("Subfolder.cshtml", new { Folder = folder, Level = 2 })
    }
  </div>
</div>

@Html.Partial("../Shared/Assets.cshtml")
